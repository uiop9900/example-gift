## [프로젝트 구조와 설계]

### 비즈니스 가치 충족
코드를 짜는 것의 최종 목표는 "유저를 경험시키게 하는 것"
신기술/새로운 기술에만 몰두하는 것이 과연 좋은 것인가 에 대한 의문을 제기할 필요가 있다.
결국 기술은 도구로서 유저들을 위해 사용하는 것으로 주와 부를 헷갈리면 안된다.

### 코드는 잘 읽히게
코드를 통해 도메인 로직을 파악할 수 있게 잘 읽히게끔 코드를 짜야한다.
(단 아키텍쳐, 데이터 플로우 이런 것들은 별도의 문서 필요.)

### 테스트 코드
테스트 코드 작성이 편해야한다.

### 변경에 용이
변경에 유용해야한다. 기능은 계속해서 변경되고 추가 요구사항이 있기 때문이다.
DDD (도메인 주도 설계)가 필요하다.


위와 같은 구조를 만들기 위해서는 아래와 같은 구조로 코드를 짜기를 권고한다.

- 단방향 참조과 interface 로 추상화 한다. (*추상화: 주요 기능을 interface에 넣어서 기능이 변경되어도 실제 구현코드는 변경하지 않고 interface를 수정한다.)
- 엔티리 포인트를 확실히 하기위해 진짜 서비스단에서만 @service를 사용하고 그 외에는 @component를 사용한다.
- facade를 적극 활용
- 기능들을 조합해서 하나의 큰 기능을 구현하는것 (예. 회원가입, 메세지 발송이 둘의 기능은 서비스단에서 각자 구현되어있지만, 하나의 같은 큰 기능이기에 묶어둔다.)
- response로 받은 값을 그대로 serivce로 가져가지 않고 "받은 값 -> mapper -> entity" 이런 형태로 바꾸면서 각 레이어를 이동한다.
(응답받은 값을 변환해서 엔티티와 동일하지만 다른 객체인 mapper에 담고 mapper 자체를 entity 에 넣는 형태)


---


### [권장하는 구현 방식]

- 전반적인 개발에 대해 "개발 디자인 문서"를 미리 작성해서 업무를 파악하고 대략적으로 어떻게 구현할지에 대한 생각하는 시간을 갖는다.
- 핵심 도메인을 먼저 생각하고 그 뒤에 테이블 설계를 하자 (테이블은 객체를 담는 그릇이라 생각하자)
- 변수와 메소드명에 많이 신경쓰자
- api설계 시에 필수값만 유지되도록 한다. (너무 많은 값들을 한번에 내려주지 않는다)
- 하나의 로직은 하나의 기능만 있어야 한다.
- setter는 최대한 사용하지 않는다.
- @transactionl 은 범위를 최대한 적게 잡는게 좋다. (restTemplate은 timenout을 설정하지않으면 무한이다.)


